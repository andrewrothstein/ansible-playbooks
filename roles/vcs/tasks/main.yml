---
- name: (Ubuntu) vcs packages...
  when: ansible_distribution == "Ubuntu"
  environment: proxy_env
  apt: name={{ item }}
  with_items:
    - git
    - git-doc
    - git-svn
    - git-flow
    - subversion
    - mercurial
    - tortoisehg
    - hgsubversion
    - svnkit
    - cvs
    - kdiff3

- name: (Ubuntu) install magit...
  when: ansible_distribution == "Ubuntu"
  environment: proxy_env
  copy: src=50magit.el dest=/etc/emacs/site-start.d/

- name: (Ubuntu) download subgit...
  when: ansible_distribution == "Ubuntu"
  environment: proxy_env
  get_url: url={{ subgit_url }} dest='/tmp/{{ subgit_deb }}'

- name: (Ubuntu) install subgit....
  when: ansible_distribution == "Ubuntu"
  environment: proxy_env
  apt: deb='/tmp/{{ subgit_deb }}'

- name: (Fedora) vcs packages...
  when: ansible_distribution == "Fedora"
  environment: proxy_env
  yum: name={{ item }}
  with_items:
    - git
    - gitflow
    - subversion
    - mercurial
    - svnkit-cli
    - cvs
    - kdiff3
