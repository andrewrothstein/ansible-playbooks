---
- hosts : all
  tasks :
  - name : add webupd8team/java ppa
    apt_repository: repo='ppa:webupd8team/java'
  - name : accept license...
    shell: 'echo debconf shared/accepted-oracle-license-v1-1 {{item}} true | debconf-set-selections'
    with_items :
      - select
      - seen
  - name : install java6, java7, java8 set 7 as default
    apt: name={{item}}
    with_items:
      - oracle-java6-installer
      - oracle-java7-installer
      - oracle-java8-installer
  - name : set java7 as the default
    apt: name=oracle-java7-set-default
